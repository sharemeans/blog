---
title: fiddler捕获https包的原理
categories: 工具
date: 2020-10-1
---


fiddler代理http协议大家都清楚原理，实际上就是正向代理。正向代理是什么呢？简单来说，就是，一方面，fiddler对浏览器客户端伪造成服务器，另一方面对真实的服务器伪造成客户端。

那么，https作为一种双向验证机制的协议，是如何让fiddler实现抓包的呢？

https其实就是比http多了个加密和解密的过程。

https的作用，其实依赖于证书的信任机制。受信任的证书机构向服务端颁发CA证书，浏览器以及系统默认保存了该机构的根证书。

fiddler其实是自己造了一个证书，如果想抓客户端的流量，就需要客户端手动信任该证书。这也是https抓包的关键。

具体步骤如下图：
![密钥交换与数据传输过程](/images/2019090102.png)


